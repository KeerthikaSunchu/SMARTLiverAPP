<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SMART Liver App</title>
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <style>

    body {
        font-family: 'Roboto', sans-serif;
        margin: 0;
        font-family: Arial, sans-serif;
        background-color: #E4E4E4;
        overflow: hidden;
    }

    .header {
        background-color: #223C97;
        color: white;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        height: 50px;
    }

    .header .logo {
        display: flex;
        align-items: center;
    }

    .header .logo img {
        height: 50px;
        margin-right: 10px;
    }

    .header .title {
        font-size: 20px;
        white-space: nowrap;
    }

    .header .patient-info {
        display: flex;
        justify-content: flex-end;
        width: 100%;
    }

    .header .patient-info .info-item {
        margin-right: 30px;
        display: flex;
        flex-direction: column;
        align-items: flex-end;
    }

    .header .patient-info p {
        margin: 0;
        font-size: 14px;
    }

    .header .controls {
        display: flex;
        align-items: center;
    }

    .header .controls .dot {
        height: 15px;
        width: 15px;
        border-radius: 50%;
        margin-left: 10px;
        cursor: pointer;
    }

    .header .controls .dot.yellow {
        background-color: yellow;
    }

    .header .controls .dot.red {
        background-color: red;
    }

    .sub-header {
        background-color: #D9D9D9;
        padding: 10px 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }

    .sub-header .buttons {
        display: flex;
        gap: 10px;
    }

    .sub-header .buttons button {
        padding: 10px 20px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-weight: normal;
        background-color: #223C97;
        color: white;
        border: 2px solid transparent;
        font-size: 14px;
    }

    .sub-header .buttons button.active {
        border: 2px solid white;
    }

    .sub-header .ESLD-Scoring-btn {
        background-color: #223C97;
        color: white;
        padding: 10px 20px;
        border-radius: 5px;
        border: none;
        cursor: pointer;
        font-size: 14px;
        font-weight: normal;
    }

    .content {
        display: flex;
        height: calc(100vh - 120px);
        background-color: #D9D9D9;
        border: 1px solid #D9D9D9;
    }

    .sidebar {
        background-color: #F2F8FD;
        width: 240px;
        padding: 10px 0; /* Reduced padding to fit content */
        overflow-y: hidden; /* Removed scroll bar */
        font-size: 13px; /* Reduced font size */
        font-weight: bold;
    }

    .sidebar ul {
        list-style: none;
        padding: 0;
        margin: 0;
    }

    .sidebar ul li {
        padding: 8px 20px; /* Reduced padding */
        cursor: pointer;
        color: #515151;
        background-color: #F2F8FD;
        transition: color 0.2s;
        border-left: 3px solid transparent;
    }

    .sidebar ul li.active {
        background-color: #F2F8FD;
        font-weight: bold;
        color: #223C97;
        border-left: 3px solid #223C97;
    }

    .sidebar ul li:hover {
        color: #223C97;
    }

    .main-content {
        flex-grow: 1;
        padding: 0;
        overflow-y: auto;
        background-color: white;
        margin: 20px;
        border-radius: 10px;
        padding: 20px;
    }

    .tab-buttons-container {
        background-color: #F2F8FD;
        padding: 0 20px;
    }

    .tab-buttons {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 0;
        padding-top: 10px;
        background-color: #F2F8FD;
        border-bottom: 1px solid #D9D9D9;
    }

    .tab-buttons button {
        padding: 10px 20px;
        background-color: #F2F8FD;
        border: none;
        cursor: pointer;
        font-weight: bold;
        color: #515151;
        border-bottom: 3px solid transparent;
        border-radius: 5px 5px 0 0;
        font-size: 14px;
    }

    .tab-buttons button.active {
        background-color: #F2F8FD;
        color: #223C97;
        border-bottom: 3px solid #223C97;
    }

    .task-table {
        width: 100%;
        border-collapse: collapse;
        margin-top: 0;
        padding: 0 20px;
    }

    .task-table th, .task-table td {
        padding: 10px;
        border-bottom: 1px solid #E0E0E0;
        text-align: left;
        font-size: 16px;
    }

    .task-table th {
        background-color: #F8F9FA;
        font-weight: bold;
    }

    .task-table .search-container {
        display: flex;
        align-items: auto;
        justify-content: flex-end;
        padding: 5px;
    }

    .task-table .search-container input {
    padding: 5px;
    border: 1px solid #D9D9D9; /* Ash color for the border */
    border-radius: 3px;
    width: 100%;
    max-width: 200px;
    font-size: 14px;
    margin: 0;
    color: #D9D9D9; /* Ash color for the text */
    background: white; /* Background color */
    transition: border-color 0.3s, color 0.3s; /* Smooth transition for color and border */
}

.task-table .search-container input:focus {
    border: 1px solid #223C97; /* Blue color when focused */
    color: #223C97; /* Text color changes to blue when focused */
    outline: none;
}



    .task-table td.status {
        color: #007BFF;
    }

    .task-table td.status.complete {
        color: green;
    }

    .task-table td.status.overdue {
        color: red;
    }

    .task-table td.action a {
        color: #223C97;
        text-decoration: none;
    }

    .task-table td.action a:hover {
        text-decoration: underline;
    }

    @media (max-width: 768px) {
        .header {
            flex-direction: column; /* Stack items */
            align-items: flex-start; /* Align to left */
            height: 60px;
        }

        .header .patient-info {
            display: none; /* Hide patient details when minimized */
        }

        .header .controls {
            margin-top: 10px; /* Adjust margin */
        }

        .sidebar {
            display: none;
        }

        .sub-header .buttons button,
        .sub-header .ESLD-Scoring-btn {
            font-size: 14px; /* Smaller font size */
            padding: 2px 0px; /* Reduced padding */
            width: 100%; /* Full width for smaller screens */
            max-width: 150px; /* Max width to prevent overly wide buttons */
        }

        .tab-buttons button {
            font-size: 11px; /* Smaller font size */
            padding: 5px 5px; /* Reduce button padding */
            max-width: 150px; /* Max width for better control */
            color: #D9D9D9; /* Ash color */
            border-bottom: 3px solid transparent;
        }
        .tab-buttons button.active {
            color: #223C97; /* Blue color */
            border-bottom: 3px solid #223C97; /* Blue underline */
        }


        .tab-buttons .search-container input {
            width: 70px; /* Adjust input width */
            font-size: 10px;
        }

        .task-table th, .task-table td {
            font-size: 13px;
        }

        .task-table .search-container input {
            width: 100px; /* Adjust input width for smaller screens */
            font-size: 10px;
        }
    }



  </style>
</head>
<body>

<div class="header">
  <div class="logo">
    <!-- Wrap the image with an anchor tag to make it clickable -->
    <a href="index.html">
      <img src="images/liver.png" alt="Logo">
    </a>
    <div class="title">SMART Liver</div>
  </div>
  <div class="patient-info">
    <div class="info-item">
      <p><strong>Name:</strong> Jessica Taylor</p>
      <p><strong>Sex:</strong> Female</p>
    </div>
    <div class="info-item">
      <p><strong>MRN:</strong> 65374683</p>
      <p><strong>Age:</strong> 45</p>
    </div>
  </div>
  <div class="controls">
    <div class="dot yellow"  onclick="minimizePage()"></div>
    <div class="dot red"  onclick="closePage()"></div>
  </div>
</div>

<div class="sub-header">
  <div class="buttons">
    <button class="lab-based active" onclick="window.location.href='labbased.html'">Lab-Based</button>
    <button class="cpg-recommended " onclick="window.location.href='cpgrecommended.html'">CPG-Recommended</button>
    <button class="promis-score" onclick="window.location.href='promis.html'">PROMIS Score</button>
  </div>

  <button class="ESLD-Scoring-btn" onclick="window.location.href='ESLDScoring.html'">ESLD Scoring</button>
</div>

<div class="content">
  <div class="sidebar">
    <ul id="sidebarList">
      <li class="active" onclick="filterTasks('all')" id="allBtn">ALL(<span id="allCount">14</span>)</li>
      <li onclick="filterTasks('CONDITION/STATUS')" id="conditionBtn">CONDITION/STATUS(<span id="conditionCount">0</span>)</li>
      <li onclick="filterTasks('ORDER SETS')" id="orderSetsBtn">ORDER SETS(<span id="orderSetsCount">0</span>)</li>
      <li onclick="filterTasks('PATIENT CARE')" id="patientCareBtn">PATIENT CARE(<span id="patientCareCount">0</span>)</li>
      <li onclick="filterTasks('NUTRITION SERVICES')" id="nutritionBtn">NUTRITION SERVICES(<span id="nutritionServicesCount">0</span>)</li>
      <li onclick="filterTasks('CONTINUOUS INFUSIONS')" id="continuousInfusionsBtn">CONTINUOUS INFUSIONS(<span id="continuousInfusionsCount">0</span>)</li>
      <li onclick="filterTasks('LABORATORY SERVICES')" id="laboratoryServicesBtn">LABORATORY SERVICES(<span id="laboratoryServicesCount">0</span>)</li>
      <li onclick="filterTasks('RADIOLOGY SERVICES')" id="radiologyBtn">RADIOLOGY SERVICES(<span id="radiologyServicesCount">0</span>)</li>
      <li onclick="filterTasks('CARDIOVASCULAR SERVICES')" id="cardiovascularBtn">CARDIOVASCULAR SERVICES(<span id="cardiovascularServicesCount">0</span>)</li>
      <li onclick="filterTasks('PULMONARY SERVICES')" id="pulmonaryBtn">PULMONARY SERVICES(<span id="pulmonaryServicesCount">0</span>)</li>
      <li onclick="filterTasks('SURGICAL PROCEDURES')" id="surgicalBtn">SURGICAL PROCEDURES(<span id="surgicalProceduresCount">0</span>)</li>
      <li onclick="filterTasks('OTHER DEPARTMENTS')" id="otherDeptsBtn">OTHER DEPARTMENTS(<span id="otherDepartmentsCount">0</span>)</li>
      <li onclick="filterTasks('MEDICAL SUPPLIES')" id="medicalSuppliesBtn">MEDICAL SUPPLIES(<span id="medicalSuppliesCount">0</span>)</li>
      <li onclick="filterTasks('NON CATEGORIZED')" id="nonCategorizedBtn">NON CATEGORIZED(<span id="nonCategorizedCount">0</span>)</li>
    </ul>
  </div>

  <div class="main-content">
    <div class="tab-buttons-container">
      <div class="tab-buttons">
        <button id="allTabBtn" onclick="selectTab('all')">ALL(14)</button>
        <button id="completeTabBtn" onclick="selectTab('complete')">COMPLETE(6)</button>
        <button id="overdueTabBtn" onclick="selectTab('overdue')">OVERDUE(0)</button>
        <button id="upcomingTabBtn" onclick="selectTab('upcoming')">UPCOMING(0)</button>
        <div class="task-table">
        <div class="search-container">
          <input type="text" id="searchInput" placeholder="Search" onkeyup="searchTasks()">
        </div>
      </div>


    </div>

    <table class="task-table" id="taskTable">
      <thead>
      <tr>
        <th>Task Name</th>
        <th>Due Date</th>
        <th>Status</th>
        <th>Action</th>
      </tr>
      </thead>
      <tbody>
      <tr class="task-row" data-status="upcoming" data-category="CONDITION/STATUS">
        <td>Hemogram-Platelets-WBC</td>
        <td>08/20/2024</td>
        <td class="status">Upcoming</td>
        <td class="action"><a href="sendnotification.html">Send Notification</a></td>
      </tr>
      <tr class="task-row" data-status="complete" data-category="ORDER SETS">
        <td>Ultrasound</td>
        <td>08/12/2024</td>
        <td class="status complete">Complete</td>
        <td class="action"><a href="#">View Results</a></td>
      </tr>
      <tr class="task-row" data-status="complete" data-category="NUTRITION SERVICES">
        <td>Vital Signs</td>
        <td>08/14/2024</td>
        <td class="status complete">Complete</td>
        <td class="action"><a href="#">View Results</a></td>
      </tr>
      <tr class="task-row" data-status="overdue" data-category="GASTROENTEROLOGY">
        <td>Gastroenterology Procedures</td>
        <td>08/18/2024</td>
        <td class="status overdue">Overdue</td>
        <td class="action"><a href="#">Order Now</a></td>
      </tr>
      <tr class="task-row" data-status="upcoming" data-category="CONDITION/STATUS">
        <td>Blood Glucose Monitoring</td>
        <td>08/20/2024</td>
        <td class="status">Upcoming</td>
        <td class="action"><a href="sendnotification.html">Send Notification</a></td>
      </tr>
      <tr class="task-row" data-status="complete" data-category="ORDER SETS">
        <td>Liver Function Test</td>
        <td>08/12/2024</td>
        <td class="status complete">Complete</td>
        <td class="action"><a href="#">View Results</a></td>
      </tr>
      <tr class="task-row" data-status="complete" data-category="NUTRITION SERVICES">
        <td>Medication Reconciliation</td>
        <td>08/14/2024</td>
        <td class="status complete">Complete</td>
        <td class="action"><a href="#">View Results</a></td>
      </tr>
      <tr class="task-row" data-status="overdue" data-category="GASTROENTEROLOGY">
        <td>Electrocardiogram (ECG)</td>
        <td>08/18/2024</td>
        <td class="status overdue">Overdue</td>
        <td class="action"><a href="#">Order Now</a></td>
      </tr>
      <tr class="task-row" data-status="upcoming" data-category="CONDITION/STATUS">
        <td>Chest X-ray</td>
        <td>08/20/2024</td>
        <td class="status">Upcoming</td>
        <td class="action"><a href="sendnotification.html">Send Notification</a></td>
      </tr>
      <tr class="task-row" data-status="complete" data-category="ORDER SETS">
        <td>Renal Function Panel</td>
        <td>08/12/2024</td>
        <td class="status complete">Complete</td>
        <td class="action"><a href="#">View Results</a></td>
      </tr>
      <tr class="task-row" data-status="complete" data-category="NUTRITION SERVICES">
        <td>Blood Pressure Check</td>
        <td>08/14/2024</td>
        <td class="status complete">Complete</td>
        <td class="action"><a href="#">View Results</a></td>
      </tr>
      <tr class="task-row" data-status="overdue" data-category="GASTROENTEROLOGY">
        <td>Medication Administration</td>
        <td>08/18/2024</td>
        <td class="status overdue">Overdue</td>
        <td class="action"><a href="#">Order Now</a></td>
      </tbody>
    </table>
  </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  <script>
    function selectTab(selectedTab) {
      const tabs = ['all', 'complete', 'overdue', 'upcoming'];
      tabs.forEach(tab => {
        const element = document.getElementById(tab + 'TabBtn');
        element.classList.remove('active');
        if (tab === selectedTab) {
          element.classList.add('active');
        }
      });
      filterTasks(selectedTab);
    }

    function filterTasks(status) {
      var rows = document.querySelectorAll('.task-row');
      var allCount = 0, completeCount = 0, overdueCount = 0, upcomingCount = 0;
      var categories = {
        "CONDITION/STATUS": 0,
        "ORDER SETS": 0,
        "PATIENT CARE": 0,
        "NUTRITION SERVICES": 0,
        "CONTINUOUS INFUSIONS": 0,
        "LABORATORY SERVICES": 0,
        "RADIOLOGY SERVICES": 0,
        "CARDIOVASCULAR SERVICES": 0,
        "PULMONARY SERVICES": 0,
        "SURGICAL PROCEDURES": 0,
        "OTHER DEPARTMENTS": 0,
        "MEDICAL SUPPLIES": 0,
        "NON CATEGORIZED": 0
      };

      rows.forEach(row => {
        const taskStatus = row.getAttribute('data-status');
        const category = row.getAttribute('data-category');
        row.style.display = 'none'; // Initially hide all rows
        if (status === 'all' || status === taskStatus) {
          row.style.display = ''; // Show row if it matches filter
          allCount++;
          if (taskStatus === 'complete') completeCount++;
          if (taskStatus === 'overdue') overdueCount++;
          if (taskStatus === 'upcoming') upcomingCount++;
          if (categories.hasOwnProperty(category)) {
            categories[category]++; // Increment the count for visible tasks
          }
        }
      });

      document.getElementById('allTabBtn').textContent = `ALL(${allCount})`;
      document.getElementById('completeTabBtn').textContent = `COMPLETE(${completeCount})`;
      document.getElementById('overdueTabBtn').textContent = `OVERDUE(${overdueCount})`;
      document.getElementById('upcomingTabBtn').textContent = `UPCOMING(${upcomingCount})`;

      // Update the sidebar counts
      Object.keys(categories).forEach(category => {
        let element = document.getElementById(category.replace(/ /g, '').toLowerCase() + 'Btn');
        if (element) {
          element.querySelector('span').textContent = categories[category];
        }
      });
    }

    function setActiveSidebarItem() {
      const sidebarListItems = document.querySelectorAll('.sidebar ul li');
      sidebarListItems.forEach(item => {
        item.classList.remove('active');
      });

      // Use 'this' to refer to the clicked list item and add 'active' class
      this.classList.add('active');
    }

    document.addEventListener('DOMContentLoaded', () => {
      const sidebarListItems = document.querySelectorAll('.sidebar ul li');
      sidebarListItems.forEach(item => {
        item.addEventListener('click', setActiveSidebarItem);
      });
    });

    function searchTasks() {
      var input = document.getElementById('searchInput').value.toLowerCase();
      filterTasks('all'); // Reset filter before applying search to ensure all relevant rows are considered
      var rows = document.querySelectorAll('.task-row');
      var searchCounts = {
        allCount: 0, completeCount: 0, overdueCount: 0, upcomingCount: 0
      };

      rows.forEach(row => {
        const rowText = row.innerText.toLowerCase();
        row.style.display = rowText.includes(input) ? '' : 'none';
        if (row.style.display === '' && row.getAttribute('data-status') === 'complete') searchCounts.allCount++;
      });

      document.getElementById('allTabBtn').textContent = `ALL(${searchCounts.allCount})`;
    }

    // Initialize counts on page load
    selectTab('all');


  </script>



</body>
</html>
