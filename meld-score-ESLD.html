<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Liver Function Tests</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <style>

        body {
            font-family: 'Roboto', sans-serif;
                margin: 0;
                background-color: #E4E4E4;
                color: #000;
                overflow: auto;
            }

            .app-container {
                display: flex;
                flex-direction: column;
                height: 100vh;
                width: 100vw;
                overflow: hidden;
            }

            /* Header Container */
            .header {
                background-color: #223C97;
                color: white;
                padding: 10px 20px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                height: 50px;
            }

            /* Logo Section */
            .header .logo {
                display: flex;
                align-items: center;
            }

            /* Logo Image */
            .header .logo img {
                height: 55px;
                margin-right: 10px;
            }

            /* Application Title */
            .header .title {
                font-size: 20px;
                font-weight: normal;
                white-space: nowrap;
            }

            /* Patient Information Section */
            .header .patient-info {
                display: flex;
                justify-content: flex-end;
                width: 100%;
            }

            /* Individual Info Items */
            .header .patient-info .info-item {
                margin-right: 10px;
                display: flex;
                flex-direction: column;
                align-items: flex-end;
            }

            /* Paragraphs within Info Items */
            .header .patient-info p {
                margin: 0;
                font-size: 14px;
            }
            /* New Button Section Below the Header */
    .button-section {
        background-color: #F1F1F1;
        padding: 5px 20px;
        display: flex;
        justify-content: left;
        gap: 5px;
    }

    .button-section button {
        padding: 3px 20px;
        background-color: #223C97;
        color: white;
        border: none;
        border-radius: 20px;
        font-size: 14px;
        cursor: pointer;
    }
            .main-content {
                display: flex;
                flex: 1;
                background-color: #F1F1F1;
                border-radius: 0 0 10px 10px;
                overflow: auto;
            }

            .sidebar {
                background-color: #F2F8FD;
                padding: 5px;
                width: 300px;
                box-shadow: 2px 0 5px rgba(0, 0, 0, 0);
                display: flex;
                flex-direction: column;
                justify-content: flex-start;
                overflow-y: auto;
                margin-top: 30px;
            }

            .sidebar h2 {
                font-size: 20px;
                margin-bottom: 10px;
                color: #333;
                font-weight: bold;
            }

            .sidebar a,
            .sidebar h2 {
                text-decoration: none;
                color: #515151; /* Default color */
                padding: 10px 5px;
                margin: 0px 0;
                display: block;
                border-left: 3px solid transparent;
                font-size: 13px;
                font-weight: bold; /* Make all options bold */
                cursor: pointer; /* Make the section header clickable */
            }

            .sidebar a.active,
            .sidebar h2.active {
                color: #223C97; /* Active color */
                border-left: 3px solid #223C97;
            }

            .content {
                flex-grow: 1;
                padding: 20px;
                display: flex;
                flex-direction: column;
                justify-content: space-between;
                overflow-y: hidden;
            }

            h3 {
                font-size: 16px;
                font-weight: bold;
                margin-bottom: 2px;
                color: #000;
                margin-top: 10px;
            }
            h4 {
                font-size: 14px;
                font-weight: bold;
            }

            .top-section {
                display: flex;
                justify-content: space-between;
            }

            .top-section .left-top-section {
                width: 40%;
                padding-right: 20px;
                border-right: 1px solid #ddd;
            }

            .top-section .right-top-section {
                width: 60%;
                padding-left: 20px;
                margin-top: 30px;
            }

            .top-section .right-top-section .MELD-Na-score-info {
                font-size: 14px;
                font-weight: bold;
                margin-bottom: 5px;
            }

            .bottom-section {
                display: flex;
                justify-content: space-between;
                margin-top: 15px;
            }

            .bottom-section .left-bottom-section {
                width: 60%;
                padding-right: 20px;
            }

            .bottom-section .right-bottom-section {
                width: 40%;
                padding-left: 20px;
            }

            table {
                background-color: #fff;
                width: 100%; /* Slightly reduced width */
                border-collapse: collapse;
                margin-bottom: -5px;
                font-size: 12px;
            }

            table,
            th,
            td {
                border: 1px solid #000000;
                padding: 4px 8px;
            }

            th,
            td {

                text-align: center;
            }

            th {
                background-color: #FFFFFF;
                font-weight: bold;
            }
            .chart-container {
                width: 100%; /* Adjust width as needed */
                padding: 10px; /* For some padding around the chart */
                border: 2px solid #ddd; /* Pink border, you can change the color as needed */
                box-shadow: 0 0 10px rgba(0, 0, 0, 0.1); /* Optional: adds shadow for depth */
                border-radius: 5px; /* Rounded corners */
                margin: 20px auto; /* Centering the chart container */
                background-color: transparent; /* Ensuring the background is transparent */
                height: 355px;
            }

            .canvas {
                 width: 100% !important; /* Ensures canvas fills the container */
                 height: 100% !important; /* Ensures canvas fills the container */
            }

                .date-range {
                margin-bottom: 10px;
                display: flex;
                align-items: center;
            }

            .date-range label {
                margin-right: 5px;
                font-size: 14px;
                font-weight: bold;
            }

            .date-range input[type="date"] {
                padding: 5px;
                margin-right: 10px;
                border: 1px solid #ccc;
                border-radius: 3px;
                font-size: 14px;
            }

            .date-range button {
                padding: 5px 15px;
                background-color: #223C97;
                color: #fff;
                border: none;
                border-radius: 3px;
                cursor: pointer;
                font-size: 14px;
            }

            .results p {
            margin-top: 5px;
                margin: 0px 0;
                font-size: 14px;
            }

            .interpretation {
                margin-top: 5px;
                font-size: 13px;
                background-color: #ffffff;
                padding: 10px;
                border-radius: 5px;
                border: 1px solid #ddd;
            }

            .MELD-Na-table-wrapper {
                display: flex;
                justify-content: space-between;
            }

            .MELD-Na-table-wrapper table {
                width: 95%;
            }

            .results {
                margin-top: 5px;
            }

            .results-table-wrapper {
                margin-top: 5px;
                margin-bottom: 5px;
            }

            @media (max-width: 768px) {
                /* Adjust header for smaller screens */
                .header {
                    flex-direction: column;
                    align-items: flex-start;
                    height: 60px;
                    padding: 10px;
                }

                .header .logo {
                    margin-bottom: 10px;
                }

                .header .patient-info {
                    display: none;
                }

                /* Move Sidebar to the Top */
                .sidebar {
                    width: 100%;
                    height: auto;
                    display: flex; /* Change to flex for horizontal layout */
                    flex-direction: row; /* Horizontal layout */
                    overflow-x: auto; /* Enable horizontal scrolling */
                    overflow-y: hidden; /* Disable vertical scrolling */
                    white-space: nowrap; /* Prevent line wrapping */
                    padding: 60px 0; /* Adjust padding */
                    border-bottom: 1px solid #ddd; /* Add bottom border for separation */
                    box-shadow: none; /* Remove box shadow */
                }

                .sidebar a,
                .sidebar h2 {
                    text-decoration: none; /* Ensure no underline or strike-through */
                    color: #515151; /* Default color */
                    padding: 5px 5px;
                    margin: 0;
                    display: block;
                    border-left: 3px solid transparent;
                    border-bottom: none; /* Ensure no default bottom border */
                    font-size: 13px;
                    font-weight: bold; /* Make all options bold */
                    cursor: pointer; /* Make the section header clickable */
                }

                .sidebar a.active,
                .sidebar h2.active {
                    color: #223C97; /* Active color */
                    border-left: none #223C97; /* Consistent left border for active state */
                    border-bottom: none; /* Ensure no bottom border to prevent double lines */
                    text-decoration: none; /* Ensure no text decoration like underline */
                }

                .sidebar a.active::after,
                .sidebar h2.active::after {
                    content: '';
                    display: block;
                    width: 100%;
                    height: 3px; /* Line thickness */
                    background-color: #223C97; /* Line color */
                    margin-top: 2px; /* Adjust margin as needed */
                }

                /* Adjust Sidebar Content for Horizontal Layout */
                .sidebar ul {
                    display: flex; /* Use flexbox for horizontal list */
                    padding: 0;
                    margin: 0;
                    list-style: none;
                    width: 100%;
                }

                .sidebar ul li {
                    display: inline-block; /* Display list items inline */
                }
                 .content {
                    overflow: auto;
                }

                /* Adjust main content for smaller screens */
                .main-content {
                    flex-direction: column; /* Stack content vertically */
                    padding: 10px; /* Adjust padding */
                    margin: 0; /* Remove margin */
                }

                .top-section, .bottom-section {
                    flex-direction: column; /* Stack sections vertically */
                }

                .top-section .left-top-section,
                .top-section .right-top-section,
                .bottom-section .left-bottom-section,
                .bottom-section .right-bottom-section {
                    width: 100%; /* Full width */
                    padding: 0; /* Remove padding */
                    margin: 10px 0; /* Add margin between sections */
                }

                .MELD-Na-table-wrapper {
                    flex-direction: column; /* Stack tables vertically */
                }

                .MELD-Na-table-wrapper table {
                    width: 100%; /* Full width */
                    margin-bottom: 20px; /* Add spacing between tables */
                }

                /* Adjust table within results section */
                .results-table-wrapper {
                    margin: 0;
                    width: 100%; /* Full width */
                }

                .date-range {
                    flex-direction: column; /* Stack date inputs vertically */
                    align-items: flex-start;
                }

                .date-range input[type="date"], .date-range button {
                    width: 100%; /* Full width for inputs */
                    margin-bottom: 10px; /* Add margin between elements */
                }

                /* Other necessary adjustments */
                .sub-header .buttons button,
                .sub-header .ESLD-Scoring-btn {
                    width: 100%; /* Full width for buttons */
                    padding: 10px 5px; /* Adjust padding */
                }
            }


    </style>
</head>

<body>

<div class="app-container">
    <div class="header">
        <div class="logo">
            <!-- Wrap the image with an anchor tag to make it clickable -->
            <a href="index.html">
                <img src="images/liver.png" alt="Logo">
            </a>
            <div class="title">SMARTLiver</div>
        </div>
        <div class="patient-info">
            <div class="info-item">
                <p><strong>Name:</strong> Jessica Taylor</p>
                <p><strong>Sex:</strong> Female</p>
            </div>
            <div class="info-item">
                <p><strong>MRN:</strong> 65374683</p>
                <p><strong>Age:</strong> 45</p>
            </div>
        </div>
    </div>
    <!-- New Button Section -->
    <!-- New Button Section with Clickable Links -->
    <div class="button-section">
        <a href="labbased.html"><button>LAB-BASED</button></a>
        <a href="cpgrecommended.html"><button>CPG-RECOMMENDED</button></a>
        <a href="promis-score.html"><button>PROMIS SCORE</button></a>
        <a href="meld-score-ESLD.html"><button>ESLD SCORING</button></a>
    </div>


    <div class="main-content">
        <div class="sidebar">
            <a href="meld-score-ESLD.html" class="active">MELD SCORE (MODEL FOR END-STAGE LIVER DISEASE)</a>
            <a href="ctp-score-ESLD.html">CHILD-TURCOTTE-PUGH (CTP) SCORE</a>
            <a href="fib4-score-ESLD.html">FIBROSIS-4 INDEX (FIB-4)</a>
            <a href="apri-score.html">APRI (AST TO PLATELET RATIO INDEX)</a>
            <a href="liverstiff-score.html">LIVER STIFFNESS</a>
            <a href="NAFLD-score.html">NAFLD (NON-ALCOHOLIC FATTY LIVER DISEASE) FIBROSIS SCORE</a>
        </div>

        <div class="content">
            <div id="meld-score" class="content-section"> <!-- Show MELD-Na score section by default -->
                <div class="top-section">
                    <div class="left-top-section">
                        <h3>MELD-Na (Model For End-Stage Liver Disease) Score </h3>
                        <table>
                            <tr>
                                <th>Parameter</th>
                                <th>Normal Range</th>
                            </tr>
                            <tr>
                                <td>Serum Creatinine</td>
                                <td>0.7 - 1.3 mg/dL or 62 - 115 µmol/L </td>
                            </tr>
                            <tr>
                                <td>Serum Bilirubin:</td>
                                <td>0.3 - 1.9 mg/dL or 5.13 - 32.49 µmol/L</td>

                            </tr>
                            <tr>
                                <td>INR:</td>
                                <td>0.8 - 1.2</td>
                            </tr>
                            <tr>
                                <td>Serum Sodium:</td>
                                <td>0.7 - 1.3 mEq/L or 136 - 145 mmol/L</td>

                            </tr>
                            <tr>
                                <td>Dialysis at least twice in the past week:</td>
                                <td>Yes/No</td>

                            </tr>
                        </table>
                    </div>

                    <div class="right-top-section">
                        <table>
                            <tr>
                                <th>MELD-Na Score</th>
                                <th>Mortality Rate</th>
                                <th>Class Interpretation</th>
                            </tr>
                            <tr>
                                <td>40 or more</td>
                                <td>71.3%</td>
                                <td>Low risk; Well-compensated liver disease.</td>
                            </tr>
                            <tr>
                                <td>30-39</td>
                                <td>52.6%</td>
                                <td>Moderate risk; Early liver dysfunction.</td>
                            </tr>
                            <tr>
                                <td>20-29</td>
                                <td>19.6%</td>
                                <td>High risk; Significant liver impairment.</td>
                            </tr><tr>
                                <td>10-19</td>
                                <td>6.0%</td>
                                <td>Very high risk; Severe liver disease; urgent evaluation.</td>
                            </tr><tr>
                                <td><9</td>
                                <td>1.9%</td>
                                <td>Extremely high risk; Decompensated liver; Immediate need.</td>
                            </tr>
                        </table>
                    </div>
                </div>

                <div class="bottom-section">
                    <div class="left-bottom-section">
                        <h4> Date Range </h4>
                        <div class="date-range">
                            <label for="from">From</label>
                            <input type="date" id="from">
                            <label for="to">To</label>
                            <input type="date" id="to">
                            <button>Done</button>
                        </div>
                        <h4> Patient's Clinical Values for MELD-Na Score Calculation </h4>

                        <div class="results-table-wrapper">
                            <table>
                                <tr>
                                    <th>Encephalopathy</th>
                                    <td>None</td>
                                    <td>1 point</td>
                                </tr>
                                <tr>
                                    <th>Ascites</th>
                                    <td>Mild/Moderate (diuretic-responsive)</td>
                                    <td>2 points</td>
                                </tr>
                                <tr>
                                    <th>Bilirubin</th>
                                    <td>2.5 mg/dL</td>
                                    <td>2 points</td>
                                </tr>
                                <tr>
                                    <th>Albumin</th>
                                    <td>3.0 g/dL</td>
                                    <td>2 points</td>
                                </tr>
                                <tr>
                                    <th>PT (sec prolonged) or INR</th>
                                    <td>1.8</td>
                                    <td>2 points</td>
                                </tr>
                            </table>
                        </div>
                        <div class="results">
                            <p><strong>Results</strong></p>
                            <p>MELD-Na Score: 25.23; Mortality Rate: 19.6%</p>

                        </div>

                        <div class="interpretation">
                            <strong>Interpretation:</strong>  With a MELD-Na score of 25, this patient falls into the 20-29 range, indicating a high risk of mortality and significant liver impairment. This patient may need closer monitoring and possibly evaluation for liver transplantation.
                        </div>
                    </div>
                    <div class="chart-container">
                        <canvas id="meldChart"></canvas>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const ctx = document.getElementById('meldChart').getContext('2d');
        const meldChart = new Chart(ctx, {
            type: 'line',
            data: {
                labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'],
                datasets: [{
                    label: 'MELD-Na SCORE',
                    data: [12, 14, 10, 8, 7, 9, 15, 17, 18, 16, 19, 20], // Example scores
                    borderColor: 'rgb(255, 99, 132)',
                    backgroundColor: 'rgba(255, 99, 132, 0.5)',
                    pointBackgroundColor: 'rgb(255, 99, 132)',
                    pointBorderColor: '#fff',
                    pointHoverBackgroundColor: '#fff',
                    pointHoverBorderColor: 'rgb(255, 99, 132)'
                }]
            },
            options: {
                plugins: {
                    legend: {
                        labels: {
                            // This more specific font property overrides the global property
                            font: {
                                size: 14
                            }
                        }
                    },
                    tooltip: {
                        enabled: true,
                        mode: 'index',
                        intersect: false,
                        callbacks: {
                            label: function(context) {
                                return context.dataset.label + ': ' + context.parsed.y + ' points';
                            }
                        }
                    }
                },
                scales: {
                    y: {
                        beginAtZero: true,
                        min: 0,
                        max: 40,
                        ticks: {
                            stepSize: 5
                        },
                        title: {
                            display: true,
                            text: 'MELD-Na Score'
                        }
                    },
                    x: {
                        title: {
                            display: true,
                            text: 'Month'
                        }
                    }
                },
                responsive: true,
                maintainAspectRatio: false,
                // Make the background color transparent
                backgroundColor: 'transparent'
            }
        });
    });
</script>

</body>

</html>
